{"version":3,"sources":["ui/components/Footer.js","ui/components/LandingPage.js","core/defaults.js","ui/components/VolumeComponent.js","ui/ctrls/Text.js","ui/components/FormComponent.js","ui/ctrls/LoadingComponent.js","ui/components/VolumesList.js","core/routes/router.js","core/routes/routes.js","App.js","serviceWorker.js","index.js"],"names":["Footer","className","LandingPage","props","handleClick","history","push","titleRef","React","createRef","headerRef","bookRef","rootRef","state","readingPros","id","value","refsForAllElements","reduce","acc","ref","ratio","observer","IntersectionObserver","entries","forEach","entry","target","intersectionRatio","current","classList","add","root","_","values","this","observe","onClick","map","pro","key","Component","languages","Polski","Angielski","Włoski","Hiszpański","Portugalski","Niemiecki","Rosyjski","Francuski","Fiński","Szwedzki","Słowacki","Norweski","mapBookToViewModel","book","volumeInfo","saleInfo","title","subtitle","authors","smallThumbnail","imageLinks","language","description","publishedDate","price","listPrice","retailPrice","amount","currency","currencyCode","buyLink","isForSale","saleability","isFree","Ref","src","alt","text","maxLine","ellipsis","trimRight","basedOn","length","author","Text","name","placeholder","onChange","type","e","FormComponent","handleSubmit","preventDefault","setState","q","langRestrict","filters","formRef","filter","areFiltersActive","isSmallDevice","window","innerWidth","displayInSmall","goBack","onSubmit","Row","sm","xs","lg","Col","isErrorConditionBlock","errorMsg","keys","label","style","display","disabled","LoadingComponent","isVisible","VolumesList","useState","page","setPage","maxResults","setFilters","books","setBooks","inProgress","setInProgress","hasMore","setHasMore","isError","setIsError","useEffect","cancel","axios","method","url","params","startIndex","cancelToken","CancelToken","ct","then","result","data","items","prevBooks","catch","error","isCancel","useSearch","useRef","lastElemRef","useCallback","elem","disconnect","isIntersecting","prevPage","index","VolumeComponent","RouterComponent","path","component","exact","route","App","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","console","message"],"mappings":"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","file":"static/js/main.75a28e3d.chunk.js","sourcesContent":["import React from 'react'\n\nconst Footer = () => (\n    <div className=\"footer\">\n        <h1>Michał Raszczuk 2020</h1>\n    </div>\n)\n\nexport default Footer","import React from 'react';\n// import { restCall } from '../../core/services/restClient'\n// import { baseUrl } from '../../core/defaults';\n// import VolumeComponent from './VolumeComponent';\nimport _ from 'lodash';\nimport Footer from './Footer';\n\nclass LandingPage extends React.Component {\n    constructor(props) {\n        super(props)\n        this.titleRef = React.createRef()\n        this.headerRef = React.createRef()\n        this.bookRef = React.createRef()\n        this.rootRef = React.createRef()\n        this.state = {\n            readingPros: [\n                {\n                    id: 1,\n                    value: \"1. Redukuje stres\"\n                }, {\n                    id: 2,\n                    value: \"2. Poprawia pamięć\"\n                }, {\n                    id: 3,\n                    value: \"3. Inspiruje\"\n                }, {\n                    id: 4,\n                    value: \"4. Rozwija wyobraźnię\"\n                }, {\n                    id: 5,\n                    value: \"5. Poprawia skupienie i koncentrację\"\n                }, {\n                    id: 6,\n                    value: \"6. Poszerza słownictwo\"\n                }, {\n                    id: 7,\n                    value: \"7. Zwiększa atrakcyjność dla płci przeciwnej\"\n                }, {\n                    id: 8,\n                    value: \"8. Stymuluje mózg\"\n                }, {\n                    id: 9,\n                    value: \"9. Poszerza światopogląd\"\n                }, {\n                    id: 10,\n                    value: \"10. Rozwija wrażliwość na innych ludzi\"\n                }, {\n                    id: 11,\n                    value: \"11. Poszerza wiedzę\"\n                }, {\n                    id: 12,\n                    value: \"12. Zwiększa zdolności analityczne\"\n                }, {\n                    id: 13,\n                    value: \"13. Poprawia pisanie\"\n                }, {\n                    id: 14,\n                    value: \"14. Pomaga zasnąć\"\n                }, {\n                    id: 15,\n                    value: \"15. Kształtuje osobowość\"\n                }               \n            ]\n        }\n        this.refsForAllElements = this.state.readingPros.reduce((acc, value) => {\n            acc[value.id] = {\n                id: value.id,\n                ref: React.createRef(),\n                ratio: 0\n            }\n            return acc\n        }, {})\n\n        const callback = entries => {\n            entries.forEach(entry => {\n                this.refsForAllElements[entry.target.id].ratio = entry.intersectionRatio\n                if(this.refsForAllElements[entry.target.id].ratio > 0)\n                    this.refsForAllElements[entry.target.id].ref.current.classList.add(\"pro-visible\")\n            })\n\n        }\n\n        this.observer = new IntersectionObserver(callback, {\n            root: this.rootRef.current\n        })\n        \n    }\n\n    componentDidMount() {\n        _.values(this.refsForAllElements).forEach(value => this.observer.observe(value.ref.current))\n    }\n\n    handleClick = () => {\n        this.props.history.push(\"/search\")\n    }\n\n\n    render() {\n        return (\n            <div ref={this.rootRef}>\n                <div className=\"main-header\" ref={this.headerRef}>\n                    <h1 ref={this.titleRef}>My Liblary</h1>\n                </div>\n                <div className=\"landing-theme\">\n\n                    <button className=\"btn btn-success\"onClick={this.handleClick}>Wyszukaj ksiąkę!</button>\n                </div>\n                <div className=\"reading-information\">\n                    <i className=\"fas fa-book fa-7x\"></i>\n                    <h1>Czytanie:</h1>\n                    {\n                        this.state.readingPros.map(pro => <p className=\"pro-invisible\"key={pro.id} id={pro.id} ref={this.refsForAllElements[pro.id].ref}>{pro.value}</p>)\n                    }\n                </div>\n                <Footer />\n            </div>\n        )\n    }\n}\nexport default LandingPage;","export const baseUrl = \"https://www.googleapis.com/books/v1/volumes\";\n\nexport const languages = {\n    \"Wybierz Język\": \"\",\n    Polski: \"pl\",\n    Angielski: \"en\",\n    Włoski: \"it\",\n    Hiszpański: \"es\",\n    Portugalski: \"pt\",\n    Niemiecki: \"de\",\n    Rosyjski: \"ru\",\n    Francuski: \"fr\",\n    Fiński: \"fi\",\n    Szwedzki: \"sv\",\n    Słowacki: \"sl\",\n    Norweski: \"no\",\n}\n\nexport const elementsPerPage = 10\n\nexport const mapBookToViewModel = (book) => {\n    if(!(book || book.volumeInfo))\n        return undefined\n    const volumeInfo = book.volumeInfo\n    const saleInfo = book.saleInfo\n    return {\n        title: volumeInfo.title,\n        subtitle: volumeInfo.subtitle,\n        authors: volumeInfo.authors,\n        smallThumbnail: volumeInfo.imageLinks && volumeInfo.imageLinks.smallThumbnail,\n        language: volumeInfo.language,\n        description: volumeInfo.description,\n        publishedDate: volumeInfo.publishedDate,\n        price: saleInfo && saleInfo.listPrice && saleInfo.retailPrice.amount,\n        currency: saleInfo && saleInfo.listPrice && saleInfo.retailPrice.currencyCode,\n        buyLink: saleInfo && saleInfo.buyLink,\n        isForSale: saleInfo && saleInfo.saleability !== 'NOT_FOR_SALE',\n        isFree: saleInfo && saleInfo.saleability === 'FREE'\n    }\n}\n\nexport const smallDeviceBreakPoint = 576","import React from 'react'\nimport LinesEllipsis from 'react-lines-ellipsis'\n\nexport default (props) => {\n    const { \n        title,  \n        authors, \n        smallThumbnail, \n        description, \n        publishedDate,\n        price,\n        currency,\n        isForSale,\n        isFree,\n        Ref } = props\n\n    return (\n    <div className=\"volume-container\" ref={Ref}>\n        <div className=\"img-container\">\n            { smallThumbnail ? <img src={smallThumbnail} alt=\"\"/> : <img src=\"book.png\" alt=\"\"/>}\n        </div>\n        <div className=\"additional-info-container\">\n            <h2><LinesEllipsis text={title} maxLine='2' ellipsis='...' trimRight basedOn='letters'/></h2>\n            <h4 className=\"h4-description\">\n                <LinesEllipsis text={ description ? description : \"Brak Opisu\"} maxLine='2'   ellipsis='...' trimRight basedOn='letters'/>\n            </h4>\n            <h4 id=\"autors\">\n                {\n                    authors && authors.length === 1 ? \"Autor: \" : \"Autorzy: \"\n                }\n                {\n                    authors && authors.map(author => author)\n                }\n            </h4>\n            <h4>\n                {\n                    publishedDate && \"Data wydania: \" + publishedDate\n                }\n            </h4>\n            <div className=\"price\">\n                {\n                    isForSale ? isFree ? <h2 id=\"free\">Darmowe</h2> : <h2 id=\"for-sale\" >\n                    Cena: {price} {currency}\n                </h2> :\n                    <p id=\"not-for-sale\" >Nie na sprzedaż</p>\n                }\n            </div>\n\n        </div>  \n    </div>)\n}","import React from 'react'\n\n\nexport const Text = (props) => {\n    \n    const { className, name, placeholder, value, onChange } = props\n    // const [isError, setError] = useState(false);\n    \n    return (\n    <div className=\"text-container\">\n        <input\n            className={className}\n            name={name}\n            type=\"text\"\n            placeholder={placeholder}\n            value={value}\n            onChange={(e) => {\n                onChange(e)\n                // setError(isErrorConditionBlock(e.target.value))\n            }}\n        />\n\n    </div>\n\n    )\n}\n\n// const Error = ({ isVisible, msg }) => (\n//     <div className=\"error-msg-container\">\n//         {\n//             isVisible && <p>{msg}</p>\n//         }\n//     </div>\n// )","import React from 'react'\nimport { languages, smallDeviceBreakPoint } from '../../core/defaults'\nimport _ from 'lodash'\nimport { Text } from '../ctrls/Text'\nimport { Col, Row } from 'react-bootstrap'\n\nexport class FormComponent extends React.Component {\n    constructor(props) {\n        super(props)\n        this.formRef = React.createRef()\n        this.state = {\n            filters: {\n                q: \"\",\n                authors: \"\",\n                langRestrict: \"\",\n                filter: \"\"\n            },\n            areFiltersActive: false\n        }        \n    }\n\n    handleSubmit = e => {\n        e.preventDefault()\n        this.setState({ q: this.state.q, langRestrict: this.state.langRestrict }) \n        this.props.handleSubmit(this.state.filters)\n    }\n\n    render() {\n        const isSmallDevice = window.innerWidth <= smallDeviceBreakPoint\n        const displayInSmall = (isSmallDevice ? 'flex' : 'none')\n        return ( \n            <div className=\"form-main-container\"> \n                <div className=\"search-title-container\">\n                    <div className=\"search-title-icon\" onClick={() => this.props.history.goBack()}>\n                        <i className=\"fas fa-arrow-left fa-2x hover-icon\"></i>\n                    </div>\n                    <div className=\"search-title\">\n                        <h1>My Liblary</h1>\n                        <h3>Wyszukaj</h3>\n                    </div>\n                    <div className=\"search-title-icon hover-icon\" onClick={() => this.setState({ areFiltersActive: true })}>\n                        <i className=\"fas fa-filter fa-2x hover-icon\"></i>\n                    </div>\n                </div>\n                {\n                    !(isSmallDevice && !this.state.areFiltersActive) ? \n                    <form className=\"main-form\" onSubmit={(e) => {\n                        this.handleSubmit(e)\n                    }} ref={this.formRef}>\n                        <div className=\"exit-filters-icon\" onClick={() => this.setState({ areFiltersActive: false })}>\n                            <i className=\"fas fa-times\"></i>\n                        </div>\n                        <Row sm=\"4\" xs={1} lg={4}>\n                            \n                            <Col xs=\"12\" >\n                                <Text \n                                    value={this.state.q} \n                                    onChange={(e) => { \n                                        this.setState({ filters: {...this.state.filters, q: e.target.value} }) \n                                        const filters = { ...this.state.filters, q: e.target.value }\n                                        !isSmallDevice && this.props.handleSubmit(filters)\n                                    }}\n                                    className=\"form-control input-error\" \n                                    name='q' \n                                    placeholder=\"Tytuł\"\n                                    isErrorConditionBlock={value => false} \n                                    errorMsg=\"Brak tytułu\"\n                                />\n                            </Col>\n                            <Col xs=\"12\">\n                                <Text \n                                    value={this.state.authors} \n                                    onChange={(e) => { \n\n                                        this.setState({ filters: {...this.state.filters, authors: e.target.value} }) \n                                        const filters = { ...this.state.filters, authors: e.target.value }\n                                        !isSmallDevice && this.props.handleSubmit(filters)\n                                    }}\n                                    className=\"form-control input-error\" \n                                    name='authors' \n                                    placeholder=\"Autorzy\"\n                                    isErrorConditionBlock={value => false} \n                                />\n                            </Col>\n                            <Col xs=\"12\">\n                                <select \n                                    className='browser-default custom-select'\n                                    name='langRestrict'\n                                    onChange={(e) => { \n                                        this.setState({ filters: {...this.state.filters, langRestrict: e.target.value} }) \n                                        const filters = { ...this.state.filters, langRestrict: e.target.value }\n                                        !isSmallDevice && this.props.handleSubmit(filters)\n                                    }}\n                                    placeholder=\"Język\">\n                                    {\n                                        _.keys(languages).map((language, key) => <option value={languages[language]} key={key} label={language}/>)\n                                    }\n                                </select>\n                            </Col>\n                            <Col xs=\"12\">\n                                <select \n                                    className='browser-default custom-select'\n                                    name='filter'\n                                    onChange={(e) => {\n\n                                        this.setState({ filters: {...this.state.filters, filter: e.target.value} }) \n                                        const filters = { ...this.state.filters, filter: e.target.value }\n                                        !isSmallDevice && this.props.handleSubmit(filters)\n                                    }}\n                                    placeholder=\"Język\">\n                                        <option value={null} label='Typ e-booka' />\n                                        <option value='free-ebooks' label='Darmowe' />\n                                        <option value='paid-ebooks' label='Płatne' />\n                                        <option value='ebooks' label='Darmowe i płatne' />\n                                </select>\n                            </Col>\n                            <Col xs=\"12\" style={{display: displayInSmall}}>\n                                <button disabled={(this.state.filters.q + this.state.filters.authors) === ''}  className=\"btn btn-success\" onClick={(e) => {\n                                    e.preventDefault()\n                                    this.handleSubmit(e)\n                                    this.setState({ areFiltersActive: false })}\n                                    } type=\"submit\">Filtruj</button>\n                            </Col>\n                        </Row>\n                    </form> : null\n                }\n            </div>\n        )\n    }\n}","import React from 'react'\nconst LoadingComponent = ({ isVisible }) => \n<>\n    {\n        isVisible ?     \n        <div className=\"loading-component-container\">\n            <div />\n        </div> : null\n    }\n</>\n\nexport default LoadingComponent","import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { baseUrl, elementsPerPage, mapBookToViewModel } from '../../core/defaults';\nimport VolumeComponent from './VolumeComponent';\nimport { FormComponent } from './FormComponent'\nimport axios, { CancelToken } from 'axios'\nimport LoadingComponent from '../ctrls/LoadingComponent'\n\nconst useSearch = (filters, page) => {\n\n    const [books, setBooks] = useState([])\n    const [inProgress, setInProgress] = useState(false)\n    const [hasMore, setHasMore] = useState(false)\n    const [isError, setIsError] = useState(false)\n    useEffect(() => {\n        setBooks([])\n        setIsError(false)\n    }, [filters])\n\n    useEffect(() => {\n        setInProgress(true)\n        setIsError(false)\n        if(filters.q === '') return\n        let cancel\n\n        axios({\n            method: 'GET',\n            url: baseUrl,\n            params: { q: filters.q, startIndex: elementsPerPage * page, langRestrict: filters.langRestrict, maxResults: elementsPerPage },\n            cancelToken: new CancelToken(ct => cancel = ct)\n\n        }).then(result => {\n            setInProgress(false)\n\n            if(!result.data.items) {\n                setIsError(true)\n                setHasMore(false)\n                return\n            }\n            setBooks(prevBooks => [...prevBooks, ...result.data.items.map(mapBookToViewModel)])\n            setHasMore(result.data.items.length === elementsPerPage)\n            \n        }).catch( error => {\n            \n            if(axios.isCancel(error)) {\n                \n                return\n            }\n        })\n\n        return () => cancel()\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [filters, page])\n\n    return { books, inProgress, hasMore, isError }\n}\n\nconst VolumesList = (props) => {\n    \n    const [page, setPage] = useState(1)\n    const [filters, setFilters] = useState({ maxResults: elementsPerPage * page, q: '', langRestrict:'' })\n\n    const { books, inProgress, hasMore, isError } = useSearch(filters, page)\n\n    const observer = useRef()\n    \n    const lastElemRef = useCallback(elem => {\n        if(inProgress) \n            return\n\n        if(observer.current) \n            observer.current.disconnect()\n        \n        observer.current = new IntersectionObserver(entries => {\n            if(entries[0].isIntersecting && hasMore)\n                setPage(prevPage => prevPage + 1)\n        })\n        if(elem) observer.current.observe(elem)\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [inProgress, hasMore])\n\n    const filterChanged = (values) => {\n        const q = values.q + ( values.authors !== \"\" ? \"+inauthors:\" + values.authors : \"\")\n        setFilters({ q: q , langRestrict: values.langRestrict, maxResults: elementsPerPage })\n        setPage(0)\n    }\n\n    return (\n        <div>\n            <FormComponent   {...props} handleSubmit={filterChanged}  />\n\n            {\n                filters.q !== '' ? <div className=\"list-container\">\n                {\n                    books ? books.map((book, index) => {\n                        if(books.length === index + 1)\n                            return <VolumeComponent key={index} Ref={lastElemRef} {...book} />\n                        else\n                            return <VolumeComponent key={index} {...book} />\n                    }) : <span>Brak ksiąek do wyświetlenia</span>\n                }\n                </div> : \n                <div className=\"empty-state-component-volumes-list\">\n                    <p>Wpisz tytuł, aby wyświetlić pozycje</p>\n                </div>\n\n            }\n            {\n                isError ? <div className=\"empty-state-component-volumes-list\">\n                            <p>Przepraszamy, nie ma takiej ksiąki na naszej półce</p>\n                        </div> : null\n            }\n\n            <LoadingComponent isVisible={inProgress && filters.q !== ''} />\n            {\n                !hasMore && filters.q !== '' && !inProgress && books.length !== 0 ? <div className='center-content'><p>Brak kolejnych wyników</p></div> : null\n            }\n        </div>\n    )\n}\nexport default VolumesList;","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport routes from './routes';\n\n\nconst RouterComponent = (props) => (\n    <Switch>\n        {\n            routes().map((route, key) => <Route key={key} path={route.path} component={route.component} exact={true}/>)\n        }\n    </Switch>\n)\n\nexport default RouterComponent;","import LandingPage from '../../ui/components/LandingPage';\nimport VolumesList from '../../ui/components/VolumesList';\n\nexport default () => [\n    {\n        path: '/search',\n        component: VolumesList,\n        exact: true\n    }, {\n        path: '/',\n        component: LandingPage,\n        exact: true\n    }\n];","import React from 'react';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './ui/styles/StylesToExport.scss'\nimport RouterComponent from './core/routes/router'\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nfunction App() {\n  return (\n      <RouterComponent/>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n    \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}